/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__(/*! regenerator-runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsZ0hBQStDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzPzgxNDQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/regenerator/index.js\n");

/***/ }),

/***/ "./resources/js/app-scripts/payment.js":
/*!*********************************************!*\
  !*** ./resources/js/app-scripts/payment.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\n$(document).ready(function () {\n  if ($('.stripe-form').length) {\n    $.ajaxSetup({\n      headers: {\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n      }\n    });\n    var auto_renewal = false;\n    $(document).on('click', '#autoRenewal', function (e) {\n      if ($(this).is(\":checked\")) {\n        auto_renewal = true;\n      } else {\n        auto_renewal = false;\n      }\n    });\n    var url = base_url + '/listing/step-five';\n    var errorElement = document.getElementById('card-errors');\n    var stripe_key = $('.stripe-form').data('stripe-key');\n    var clientSecret = $('.stripe-form').data('secret');\n    var cardHolderName = document.getElementById('card_holder_name');\n    var billing_email = document.getElementById('billing_email');\n    var billing_phone = document.getElementById('billing_phone');\n    var billing_address = document.getElementById('billing_address');\n    var billing_city = document.getElementById('billing_city');\n    var billing_country = '';\n    var billing_state = '';\n    var stripe = Stripe(stripe_key);\n    var elements = stripe.elements(); // Set up Stripe.js and Elements to use in checkout form\n\n    var style = {\n      base: {\n        color: \"#32325d\",\n        fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#aab7c4\"\n        }\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\"\n      }\n    };\n    var cardElement = elements.create('card', {\n      style: style\n    });\n    cardElement.mount('#card-element');\n    var form = document.getElementById('stepFiveForm');\n    form.addEventListener('submit', /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().mark(function _callee(event) {\n        var _yield$stripe$confirm, setupIntent, error;\n\n        return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // We don't want to let default form submission happen here,\n                // which would refresh the page.\n                billing_country = $('#Country').find(\"option:selected\").data('country-code');\n                billing_state = $('#State').find(\"option:selected\").val();\n                $(\"form[id='stepFiveForm']\").validate({\n                  errorElement: \"span\",\n                  rules: {\n                    card_holder_name: {\n                      required: true\n                    },\n                    billing_email: {\n                      required: true\n                    },\n                    billing_phone: {\n                      required: true\n                    },\n                    billing_country: {\n                      required: true\n                    },\n                    billing_state: {\n                      required: true\n                    },\n                    billing_city: {\n                      required: true\n                    },\n                    billing_address: {\n                      required: true\n                    }\n                  },\n                  errorPlacement: function errorPlacement(error, element) {\n                    if (element.attr(\"name\") == \"state\") {\n                      error.appendTo('.state-error');\n                    } else {\n                      error.insertAfter(element);\n                    }\n                  }\n                });\n                event.preventDefault();\n                _context.next = 6;\n                return stripe.confirmCardSetup(clientSecret, {\n                  payment_method: {\n                    card: cardElement,\n                    billing_details: {\n                      name: cardHolderName.value,\n                      email: billing_email.value,\n                      phone: billing_phone.value,\n                      address: {\n                        city: billing_city.value,\n                        country: billing_country,\n                        line1: billing_address.value,\n                        state: billing_state\n                      }\n                    }\n                  }\n                });\n\n              case 6:\n                _yield$stripe$confirm = _context.sent;\n                setupIntent = _yield$stripe$confirm.setupIntent;\n                error = _yield$stripe$confirm.error;\n\n                if (error) {\n                  errorElement.textContent = error.message;\n                } else {\n                  errorElement.textContent = '';\n\n                  if (setupIntent.payment_method) {\n                    $.ajax({\n                      url: url,\n                      type: \"POST\",\n                      data: {\n                        payment_method_id: setupIntent.payment_method,\n                        auto_renewal: auto_renewal\n                      },\n                      beforeSend: function beforeSend() {\n                        if ($('.pay-spinner').hasClass(\"d-none\")) {\n                          $('.pay-spinner').removeClass(\"d-none\");\n                        }\n\n                        if (!$('.plan-submit').hasClass(\"disabled\")) {\n                          $('.plan-submit').addClass(\"disabled\");\n                        }\n                      },\n                      success: function success(response) {\n                        if (response.requires_action) {\n                          stripe.confirmCardPayment(response.payment_intent_client_secret, {\n                            payment_method: response.payment_intent_payment_method\n                          }).then(function (result) {\n                            if (result.error) {\n                              location.reload();\n                            } else {\n                              if (result.paymentIntent.status == 'succeeded') {\n                                $.ajax({\n                                  url: base_url + '/confirm-payment',\n                                  type: \"POST\",\n                                  data: {\n                                    payment_intent_id: result.paymentIntent.payment_method,\n                                    payment_method_id: result.paymentIntent.id,\n                                    customer_id: response.customer_id,\n                                    email: billing_email.value,\n                                    order_total: response.order_total,\n                                    auto_renewal: auto_renewal\n                                  },\n                                  success: function success(response) {\n                                    if (response.success) {\n                                      window.location.href = base_url + '/payment-success';\n                                    }\n                                  }\n                                });\n                              }\n                            }\n                          });\n                        } else if (response.error) {\n                          location.reload();\n                        } else if (response.success) {\n                          $.ajax({\n                            url: base_url + '/confirm-payment',\n                            type: \"POST\",\n                            data: {\n                              payment_intent_id: response.payment_intent_id,\n                              payment_method_id: response.payment_method_id,\n                              customer_id: response.customer_id,\n                              email: billing_email.value,\n                              order_total: response.order_total,\n                              auto_renewal: auto_renewal\n                            },\n                            success: function success(response) {\n                              if (response.success) {\n                                window.location.href = base_url + '/payment-success';\n                              }\n                            }\n                          });\n                        } else {\n                          location.reload();\n                        }\n                      },\n                      error: function error(reject) {\n                        location.reload();\n                      }\n                    });\n                  }\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  } // if ($('.stripe-form').length) {\n  // \t$.ajaxSetup({\n  // \t\theaders: {\n  // \t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\n  // \t\t}\n  // \t});\n  // \tvar auto_renewal = false;\n  // \t$(document).on('click', '#autoRenewal', function(e) {\n  // \t\tif($(this).is(\":checked\")) {\n  // \t\t\tauto_renewal = true;\n  // \t\t} else {\n  // \t\t\tauto_renewal = false;\n  // \t\t}\n  // \t});\n  // \tvar url = base_url + '/listing/step-five';\n  // \tvar errorElement = document.getElementById('card-errors');\n  // \tvar stripe_key = $('.stripe-form').data('stripe-key');\n  // \tconst clientSecret = $('.stripe-form').data('secret');\n  // \tconst cardHolderName = document.getElementById('card_holder_name');\n  // \t// const billing_email = document.getElementById('billing_email');\n  // \t// const billing_phone = document.getElementById('billing_phone');\n  // \t// const billing_address = document.getElementById('billing_address');\n  // \t// const billing_city = document.getElementById('billing_city');\n  // \t// var billing_country = '';\n  // \t// var billing_state = '';\n  // \tvar stripe = Stripe(stripe_key);\n  //     var elements = stripe.elements();\n  //     // Set up Stripe.js and Elements to use in checkout form\n  //     var style = {\n  //         base: {\n  //             color: \"#32325d\",\n  //             fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\n  //             fontSmoothing: \"antialiased\",\n  //             fontSize: \"16px\",\n  //             \"::placeholder\": {\n  //                 color: \"#aab7c4\"\n  //             }\n  //         },\n  //         invalid: {\n  //             color: \"#fa755a\",\n  //             iconColor: \"#fa755a\"\n  //         },\n  //     };\n  //     var cardElement = elements.create('card', {\n  //         style: style\n  //     });\n  //     cardElement.mount('#card-element');\n  //     var form = document.getElementById('stepFiveForm');\n  //     form.addEventListener('submit', async (event) => {\n  //         // We don't want to let default form submission happen here,\n  //         // which would refresh the page.\n  //         billing_country = $('#Country').find(\"option:selected\").data('country-code');\n  //         billing_state = $('#State').find(\"option:selected\").val();\n  //            $(\"form[id='stepFiveForm']\").validate({\n  // \t    \terrorElement: \"span\",\n  // \t        rules: {\n  // \t            card_holder_name: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_email: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_phone: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_country: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_state: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_city: {\n  // \t            \trequired: true\n  // \t            },\n  // \t            billing_address: {\n  // \t            \trequired: true\n  // \t            },\n  // \t        },\n  // \t        errorPlacement: function(error, element) {\n  // \t\t\t  \tif(element.attr(\"name\") == \"state\") {\n  // \t\t\t    \terror.appendTo('.state-error');\n  // \t\t\t  \t} else {\n  // \t\t\t    \terror.insertAfter(element);\n  // \t\t\t  \t}\n  // \t\t    }\n  // \t    });\n  //         event.preventDefault();\n  //         if ($('.pay-spinner').hasClass(\"d-none\")) {\n  //                $('.pay-spinner').removeClass(\"d-none\");\n  //            }\n  //            if (!$('.plan-submit').hasClass(\"disabled\")) {\n  //                $('.plan-submit').addClass(\"disabled\");\n  //            }\n  //         const { setupIntent, error } = await stripe.confirmCardSetup(\n  //             clientSecret, {\n  //                 payment_method: {\n  //                     card: cardElement,\n  //                     billing_details: { \n  //                     \tname: cardHolderName.value,\n  // \t\t                email: billing_email.value,\n  // \t\t            \tphone: billing_phone.value,\n  // \t\t            \taddress: {\n  // \t\t\t\t         \tcity: billing_city.value,\n  // \t\t\t\t          \tcountry: billing_country,\n  // \t\t\t\t          \tline1: billing_address.value,\n  // \t\t\t\t          \tstate: billing_state\n  // \t\t\t\t        },\n  //                     }\n  //                 }\n  //             }\n  //         );\n  //         if (error) {\n  //             errorElement.textContent = error.message;\n  //         } else {\n  //         \terrorElement.textContent = '';\n  //         \tif(setupIntent.payment_method) {\n  //         \t\t$.ajax({\n  // \t\t\t\t\turl: url,\n  // \t\t\t\t\ttype: \"POST\",\n  // \t\t\t\t\tdata: {\n  // \t\t\t\t\t\tpayment_method_id: setupIntent.payment_method,\n  // \t\t\t\t\t\tauto_renewal: auto_renewal,\n  // \t\t\t\t\t},\n  // \t\t\t\t\tbeforeSend: function() {\n  // \t                    if ($('.pay-spinner').hasClass(\"d-none\")) {\n  // \t                        $('.pay-spinner').removeClass(\"d-none\");\n  // \t                    }\n  // \t                    if (!$('.plan-submit').hasClass(\"disabled\")) {\n  // \t                        $('.plan-submit').addClass(\"disabled\");\n  // \t                    }\n  // \t                },\n  // \t\t\t\t\tsuccess: function (response) {\n  // \t\t\t\t\t\tif (response.requires_action) {\n  // \t\t\t\t\t\t\tstripe.confirmCardPayment(response.payment_intent_client_secret, {\n  // \t\t\t\t\t\t\t    payment_method: response.payment_intent_payment_method,\n  // \t\t\t\t\t\t\t}).then(function(result){\n  // \t\t\t\t\t\t\t\t  \tif (result.error) {\n  // \t\t\t\t\t\t\t\t    \tlocation.reload();\n  // \t\t\t\t\t\t\t\t  \t} else {\n  // \t\t\t\t\t\t\t\t  \t\tif(result.paymentIntent.status == 'succeeded') {\n  // \t\t\t\t\t\t\t\t  \t\t\t$.ajax({\n  // \t\t\t\t\t\t\t\t\t\t\t\turl: base_url + '/confirm-payment',\n  // \t\t\t\t\t\t\t\t\t\t\t\ttype: \"POST\",\n  // \t\t\t\t\t\t\t\t\t\t\t\tdata: {\n  // \t\t\t\t\t\t\t\t\t\t\t\t\tpayment_intent_id: result.paymentIntent.payment_method, \n  // \t\t\t\t\t\t\t\t\t\t\t\t\tpayment_method_id: result.paymentIntent.id,\n  // \t\t\t\t\t\t\t\t\t\t\t\t\tcustomer_id: response.customer_id,\n  // \t\t\t\t\t\t\t\t\t\t\t\t\temail: billing_email.value,\n  // \t\t\t\t\t\t\t\t\t\t\t\t\torder_total: response.order_total,\n  // \t\t\t\t\t\t\t\t\t\t\t\t\tauto_renewal: auto_renewal\n  // \t\t\t\t\t\t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t\t\t\t\t\t\tsuccess: function (response) {\n  // \t\t\t\t\t\t\t\t\t\t\t\t\tif (response.success) {\n  // \t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.href = base_url + '/payment-success';\n  // \t\t\t\t\t\t\t\t\t\t\t\t\t}\n  // \t\t\t\t\t\t\t\t\t\t\t\t}\n  // \t\t\t\t\t\t\t\t\t\t\t});\n  // \t\t\t\t\t\t\t\t  \t\t}\n  // \t\t\t\t\t\t\t\t  \t}\n  // \t\t\t\t\t\t\t});\n  // \t\t\t\t\t\t} else if (response.error) {\n  // \t\t\t\t            location.reload();\n  // \t\t\t\t        } else if (response.success) {\n  // \t\t\t\t        \t$.ajax({\n  // \t\t\t\t\t\t\t\turl: base_url + '/confirm-payment',\n  // \t\t\t\t\t\t\t\ttype: \"POST\",\n  // \t\t\t\t\t\t\t\tdata: {\n  // \t\t\t\t\t\t\t\t\tpayment_intent_id: response.payment_intent_id, \n  // \t\t\t\t\t\t\t\t\tpayment_method_id: response.payment_method_id,\n  // \t\t\t\t\t\t\t\t\tcustomer_id: response.customer_id,\n  // \t\t\t\t\t\t\t\t\temail: billing_email.value,\n  // \t\t\t\t\t\t\t\t\torder_total: response.order_total,\n  // \t\t\t\t\t\t\t\t\tauto_renewal: auto_renewal\n  // \t\t\t\t\t\t\t\t},\n  // \t\t\t\t\t\t\t\tsuccess: function (response) {\n  // \t\t\t\t\t\t\t\t\tif (response.success) {\n  // \t\t\t\t\t\t\t\t\t\twindow.location.href = base_url + '/payment-success';\n  // \t\t\t\t\t\t\t\t\t}\n  // \t\t\t\t\t\t\t\t}\n  // \t\t\t\t\t\t\t});\n  // \t\t\t\t        } else {\n  // \t\t\t\t        \tlocation.reload();\n  // \t\t\t\t        }\n  // \t\t\t\t\t},\n  // \t\t\t\t\terror: function (reject) {\n  // \t\t\t\t\t\tlocation.reload();\n  // \t\t\t\t\t}\n  // \t\t\t\t});\n  //         \t}\n  //         }\n  //     });\n  // }\n\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFFQSxDQWhhRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9hcHAtc2NyaXB0cy9wYXltZW50LmpzP2UzOWMiXSwic291cmNlc0NvbnRlbnQiOlsiJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcclxuXHJcblx0aWYgKCQoJy5zdHJpcGUtZm9ybScpLmxlbmd0aCkge1xyXG5cclxuXHRcdCQuYWpheFNldHVwKHtcclxuXHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdCdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHZhciBhdXRvX3JlbmV3YWwgPSBmYWxzZTtcclxuXHJcblx0XHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2F1dG9SZW5ld2FsJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuXHRcdFx0XHRhdXRvX3JlbmV3YWwgPSB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGF1dG9fcmVuZXdhbCA9IGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgdXJsID0gYmFzZV91cmwgKyAnL2xpc3Rpbmcvc3RlcC1maXZlJztcclxuXHRcdHZhciBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1lcnJvcnMnKTtcclxuXHRcdHZhciBzdHJpcGVfa2V5ID0gJCgnLnN0cmlwZS1mb3JtJykuZGF0YSgnc3RyaXBlLWtleScpO1xyXG5cdFx0Y29uc3QgY2xpZW50U2VjcmV0ID0gJCgnLnN0cmlwZS1mb3JtJykuZGF0YSgnc2VjcmV0Jyk7XHJcblxyXG5cdFx0Y29uc3QgY2FyZEhvbGRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZF9ob2xkZXJfbmFtZScpO1xyXG5cdFx0Y29uc3QgYmlsbGluZ19lbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2VtYWlsJyk7XHJcblx0XHRjb25zdCBiaWxsaW5nX3Bob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxpbmdfcGhvbmUnKTtcclxuXHRcdGNvbnN0IGJpbGxpbmdfYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2FkZHJlc3MnKTtcclxuXHRcdGNvbnN0IGJpbGxpbmdfY2l0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2NpdHknKTtcclxuXHRcdHZhciBiaWxsaW5nX2NvdW50cnkgPSAnJztcclxuXHRcdHZhciBiaWxsaW5nX3N0YXRlID0gJyc7XHJcblxyXG5cdFx0dmFyIHN0cmlwZSA9IFN0cmlwZShzdHJpcGVfa2V5KTtcclxuXHJcblx0ICAgIHZhciBlbGVtZW50cyA9IHN0cmlwZS5lbGVtZW50cygpO1xyXG5cclxuXHQgICAgLy8gU2V0IHVwIFN0cmlwZS5qcyBhbmQgRWxlbWVudHMgdG8gdXNlIGluIGNoZWNrb3V0IGZvcm1cclxuXHQgICAgdmFyIHN0eWxlID0ge1xyXG5cdCAgICAgICAgYmFzZToge1xyXG5cdCAgICAgICAgICAgIGNvbG9yOiBcIiMzMjMyNWRcIixcclxuXHQgICAgICAgICAgICBmb250RmFtaWx5OiAnXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxyXG5cdCAgICAgICAgICAgIGZvbnRTbW9vdGhpbmc6IFwiYW50aWFsaWFzZWRcIixcclxuXHQgICAgICAgICAgICBmb250U2l6ZTogXCIxNnB4XCIsXHJcblx0ICAgICAgICAgICAgXCI6OnBsYWNlaG9sZGVyXCI6IHtcclxuXHQgICAgICAgICAgICAgICAgY29sb3I6IFwiI2FhYjdjNFwiXHJcblx0ICAgICAgICAgICAgfVxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgICAgIGludmFsaWQ6IHtcclxuXHQgICAgICAgICAgICBjb2xvcjogXCIjZmE3NTVhXCIsXHJcblx0ICAgICAgICAgICAgaWNvbkNvbG9yOiBcIiNmYTc1NWFcIlxyXG5cdCAgICAgICAgfSxcclxuXHQgICAgfTtcclxuXHJcblx0ICAgIHZhciBjYXJkRWxlbWVudCA9IGVsZW1lbnRzLmNyZWF0ZSgnY2FyZCcsIHtcclxuXHQgICAgICAgIHN0eWxlOiBzdHlsZVxyXG5cdCAgICB9KTtcclxuXHQgICAgY2FyZEVsZW1lbnQubW91bnQoJyNjYXJkLWVsZW1lbnQnKTtcclxuXHQgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlcEZpdmVGb3JtJyk7XHJcblxyXG5cdCAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xyXG5cdCAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsZXQgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb24gaGFwcGVuIGhlcmUsXHJcblx0ICAgICAgICAvLyB3aGljaCB3b3VsZCByZWZyZXNoIHRoZSBwYWdlLlxyXG5cclxuXHQgICAgICAgIGJpbGxpbmdfY291bnRyeSA9ICQoJyNDb3VudHJ5JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5kYXRhKCdjb3VudHJ5LWNvZGUnKTtcclxuXHQgICAgICAgIGJpbGxpbmdfc3RhdGUgPSAkKCcjU3RhdGUnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgJChcImZvcm1baWQ9J3N0ZXBGaXZlRm9ybSddXCIpLnZhbGlkYXRlKHtcclxuXHRcdCAgICBcdGVycm9yRWxlbWVudDogXCJzcGFuXCIsXHJcblx0XHQgICAgICAgIHJ1bGVzOiB7XHJcblx0XHQgICAgICAgICAgICBjYXJkX2hvbGRlcl9uYW1lOiB7XHJcblx0XHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0XHQgICAgICAgICAgICB9LFxyXG5cdFx0ICAgICAgICAgICAgYmlsbGluZ19lbWFpbDoge1xyXG5cdFx0ICAgICAgICAgICAgXHRyZXF1aXJlZDogdHJ1ZVxyXG5cdFx0ICAgICAgICAgICAgfSxcclxuXHRcdCAgICAgICAgICAgIGJpbGxpbmdfcGhvbmU6IHtcclxuXHRcdCAgICAgICAgICAgIFx0cmVxdWlyZWQ6IHRydWVcclxuXHRcdCAgICAgICAgICAgIH0sXHJcblx0XHQgICAgICAgICAgICBiaWxsaW5nX2NvdW50cnk6IHtcclxuXHRcdCAgICAgICAgICAgIFx0cmVxdWlyZWQ6IHRydWVcclxuXHRcdCAgICAgICAgICAgIH0sXHJcblx0XHQgICAgICAgICAgICBiaWxsaW5nX3N0YXRlOiB7XHJcblx0XHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0XHQgICAgICAgICAgICB9LFxyXG5cdFx0ICAgICAgICAgICAgYmlsbGluZ19jaXR5OiB7XHJcblx0XHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0XHQgICAgICAgICAgICB9LFxyXG5cdFx0ICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiB7XHJcblx0XHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0XHQgICAgICAgICAgICB9LFxyXG5cdFx0ICAgICAgICB9LFxyXG5cdFx0ICAgICAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24oZXJyb3IsIGVsZW1lbnQpIHtcclxuXHRcdFx0XHQgIFx0aWYoZWxlbWVudC5hdHRyKFwibmFtZVwiKSA9PSBcInN0YXRlXCIpIHtcclxuXHRcdFx0XHQgICAgXHRlcnJvci5hcHBlbmRUbygnLnN0YXRlLWVycm9yJyk7XHJcblx0XHRcdFx0ICBcdH0gZWxzZSB7XHJcblx0XHRcdFx0ICAgIFx0ZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XHJcblx0XHRcdFx0ICBcdH1cclxuXHRcdFx0ICAgIH1cclxuXHRcdCAgICB9KTtcclxuXHJcblx0ICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHQgICAgICAgIGNvbnN0IHsgc2V0dXBJbnRlbnQsIGVycm9yIH0gPSBhd2FpdCBzdHJpcGUuY29uZmlybUNhcmRTZXR1cChcclxuXHQgICAgICAgICAgICBjbGllbnRTZWNyZXQsIHtcclxuXHQgICAgICAgICAgICAgICAgcGF5bWVudF9tZXRob2Q6IHtcclxuXHQgICAgICAgICAgICAgICAgICAgIGNhcmQ6IGNhcmRFbGVtZW50LFxyXG5cdCAgICAgICAgICAgICAgICAgICAgYmlsbGluZ19kZXRhaWxzOiB7IFxyXG5cdCAgICAgICAgICAgICAgICAgICAgXHRuYW1lOiBjYXJkSG9sZGVyTmFtZS52YWx1ZSxcclxuXHRcdFx0ICAgICAgICAgICAgICAgIGVtYWlsOiBiaWxsaW5nX2VtYWlsLnZhbHVlLFxyXG5cdFx0XHQgICAgICAgICAgICBcdHBob25lOiBiaWxsaW5nX3Bob25lLnZhbHVlLFxyXG5cdFx0XHQgICAgICAgICAgICBcdGFkZHJlc3M6IHtcclxuXHRcdFx0XHRcdCAgICAgICAgIFx0Y2l0eTogYmlsbGluZ19jaXR5LnZhbHVlLFxyXG5cdFx0XHRcdFx0ICAgICAgICAgIFx0Y291bnRyeTogYmlsbGluZ19jb3VudHJ5LFxyXG5cdFx0XHRcdFx0ICAgICAgICAgIFx0bGluZTE6IGJpbGxpbmdfYWRkcmVzcy52YWx1ZSxcclxuXHRcdFx0XHRcdCAgICAgICAgICBcdHN0YXRlOiBiaWxsaW5nX3N0YXRlXHJcblx0XHRcdFx0XHQgICAgICAgIH0sXHJcblx0ICAgICAgICAgICAgICAgICAgICB9XHJcblx0ICAgICAgICAgICAgICAgIH1cclxuXHQgICAgICAgICAgICB9XHJcblx0ICAgICAgICApO1xyXG5cclxuXHQgICAgICAgIGlmIChlcnJvcikge1xyXG5cdCAgICAgICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yLm1lc3NhZ2U7XHJcblx0ICAgICAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgXHRlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuXHQgICAgICAgIFx0aWYoc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QpIHtcclxuXHQgICAgICAgIFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXHJcblx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRwYXltZW50X21ldGhvZF9pZDogc2V0dXBJbnRlbnQucGF5bWVudF9tZXRob2QsXHJcblx0XHRcdFx0XHRcdFx0YXV0b19yZW5ld2FsOiBhdXRvX3JlbmV3YWwsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICBpZiAoJCgnLnBheS1zcGlubmVyJykuaGFzQ2xhc3MoXCJkLW5vbmVcIikpIHtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wYXktc3Bpbm5lcicpLnJlbW92ZUNsYXNzKFwiZC1ub25lXCIpO1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICB9XHJcblx0XHQgICAgICAgICAgICAgICAgICAgIGlmICghJCgnLnBsYW4tc3VibWl0JykuaGFzQ2xhc3MoXCJkaXNhYmxlZFwiKSkge1xyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBsYW4tc3VibWl0JykuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKTtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgfVxyXG5cdFx0ICAgICAgICAgICAgICAgIH0sXHJcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChyZXNwb25zZS5yZXF1aXJlc19hY3Rpb24pIHtcclxuXHRcdFx0XHRcdFx0XHRcdHN0cmlwZS5jb25maXJtQ2FyZFBheW1lbnQocmVzcG9uc2UucGF5bWVudF9pbnRlbnRfY2xpZW50X3NlY3JldCwge1xyXG5cdFx0XHRcdFx0XHRcdFx0ICAgIHBheW1lbnRfbWV0aG9kOiByZXNwb25zZS5wYXltZW50X2ludGVudF9wYXltZW50X21ldGhvZCxcclxuXHRcdFx0XHRcdFx0XHRcdH0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBcdGlmIChyZXN1bHQuZXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICAgIFx0bG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgXHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIFx0XHRpZihyZXN1bHQucGF5bWVudEludGVudC5zdGF0dXMgPT0gJ3N1Y2NlZWRlZCcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ICBcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVybDogYmFzZV91cmwgKyAnL2NvbmZpcm0tcGF5bWVudCcsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGF5bWVudF9pbnRlbnRfaWQ6IHJlc3VsdC5wYXltZW50SW50ZW50LnBheW1lbnRfbWV0aG9kLCBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHBheW1lbnRfbWV0aG9kX2lkOiByZXN1bHQucGF5bWVudEludGVudC5pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbWVyX2lkOiByZXNwb25zZS5jdXN0b21lcl9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGVtYWlsOiBiaWxsaW5nX2VtYWlsLnZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3JkZXJfdG90YWw6IHJlc3BvbnNlLm9yZGVyX3RvdGFsLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXV0b19yZW5ld2FsOiBhdXRvX3JlbmV3YWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBiYXNlX3VybCArICcvcGF5bWVudC1zdWNjZXNzJztcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQgIFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRcdCAgXHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKHJlc3BvbnNlLmVycm9yKSB7XHJcblx0XHRcdFx0XHQgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHRcdCAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0dXJsOiBiYXNlX3VybCArICcvY29uZmlybS1wYXltZW50JyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJQT1NUXCIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwYXltZW50X2ludGVudF9pZDogcmVzcG9uc2UucGF5bWVudF9pbnRlbnRfaWQsIFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBheW1lbnRfbWV0aG9kX2lkOiByZXNwb25zZS5wYXltZW50X21ldGhvZF9pZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjdXN0b21lcl9pZDogcmVzcG9uc2UuY3VzdG9tZXJfaWQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZW1haWw6IGJpbGxpbmdfZW1haWwudmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3JkZXJfdG90YWw6IHJlc3BvbnNlLm9yZGVyX3RvdGFsLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGF1dG9fcmVuZXdhbDogYXV0b19yZW5ld2FsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGJhc2VfdXJsICsgJy9wYXltZW50LXN1Y2Nlc3MnO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHQgICAgICAgIH0gZWxzZSB7XHJcblx0XHRcdFx0XHQgICAgICAgIFx0bG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdFx0XHQgICAgICAgIH1cclxuXHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChyZWplY3QpIHtcclxuXHRcdFx0XHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0ICAgICAgICBcdH1cclxuXHJcblx0ICAgICAgICB9XHJcblxyXG5cdCAgICB9KTtcclxuXHR9XHJcblx0Ly8gaWYgKCQoJy5zdHJpcGUtZm9ybScpLmxlbmd0aCkge1xyXG5cclxuXHQvLyBcdCQuYWpheFNldHVwKHtcclxuXHQvLyBcdFx0aGVhZGVyczoge1xyXG5cdC8vIFx0XHRcdCdYLUNTUkYtVE9LRU4nOiAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpXHJcblx0Ly8gXHRcdH1cclxuXHQvLyBcdH0pO1xyXG5cclxuXHQvLyBcdHZhciBhdXRvX3JlbmV3YWwgPSBmYWxzZTtcclxuXHJcblx0Ly8gXHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2F1dG9SZW5ld2FsJywgZnVuY3Rpb24oZSkge1xyXG5cdC8vIFx0XHRpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcclxuXHQvLyBcdFx0XHRhdXRvX3JlbmV3YWwgPSB0cnVlO1xyXG5cdC8vIFx0XHR9IGVsc2Uge1xyXG5cdC8vIFx0XHRcdGF1dG9fcmVuZXdhbCA9IGZhbHNlO1xyXG5cdC8vIFx0XHR9XHJcblx0Ly8gXHR9KTtcclxuXHJcblx0Ly8gXHR2YXIgdXJsID0gYmFzZV91cmwgKyAnL2xpc3Rpbmcvc3RlcC1maXZlJztcclxuXHQvLyBcdHZhciBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZC1lcnJvcnMnKTtcclxuXHQvLyBcdHZhciBzdHJpcGVfa2V5ID0gJCgnLnN0cmlwZS1mb3JtJykuZGF0YSgnc3RyaXBlLWtleScpO1xyXG5cdC8vIFx0Y29uc3QgY2xpZW50U2VjcmV0ID0gJCgnLnN0cmlwZS1mb3JtJykuZGF0YSgnc2VjcmV0Jyk7XHJcblxyXG5cdC8vIFx0Y29uc3QgY2FyZEhvbGRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZF9ob2xkZXJfbmFtZScpO1xyXG5cdC8vIFx0Ly8gY29uc3QgYmlsbGluZ19lbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2VtYWlsJyk7XHJcblx0Ly8gXHQvLyBjb25zdCBiaWxsaW5nX3Bob25lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JpbGxpbmdfcGhvbmUnKTtcclxuXHQvLyBcdC8vIGNvbnN0IGJpbGxpbmdfYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2FkZHJlc3MnKTtcclxuXHQvLyBcdC8vIGNvbnN0IGJpbGxpbmdfY2l0eSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsaW5nX2NpdHknKTtcclxuXHQvLyBcdC8vIHZhciBiaWxsaW5nX2NvdW50cnkgPSAnJztcclxuXHQvLyBcdC8vIHZhciBiaWxsaW5nX3N0YXRlID0gJyc7XHJcblxyXG5cdC8vIFx0dmFyIHN0cmlwZSA9IFN0cmlwZShzdHJpcGVfa2V5KTtcclxuXHJcblx0Ly8gICAgIHZhciBlbGVtZW50cyA9IHN0cmlwZS5lbGVtZW50cygpO1xyXG5cclxuXHQvLyAgICAgLy8gU2V0IHVwIFN0cmlwZS5qcyBhbmQgRWxlbWVudHMgdG8gdXNlIGluIGNoZWNrb3V0IGZvcm1cclxuXHQvLyAgICAgdmFyIHN0eWxlID0ge1xyXG5cdC8vICAgICAgICAgYmFzZToge1xyXG5cdC8vICAgICAgICAgICAgIGNvbG9yOiBcIiMzMjMyNWRcIixcclxuXHQvLyAgICAgICAgICAgICBmb250RmFtaWx5OiAnXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxyXG5cdC8vICAgICAgICAgICAgIGZvbnRTbW9vdGhpbmc6IFwiYW50aWFsaWFzZWRcIixcclxuXHQvLyAgICAgICAgICAgICBmb250U2l6ZTogXCIxNnB4XCIsXHJcblx0Ly8gICAgICAgICAgICAgXCI6OnBsYWNlaG9sZGVyXCI6IHtcclxuXHQvLyAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2FhYjdjNFwiXHJcblx0Ly8gICAgICAgICAgICAgfVxyXG5cdC8vICAgICAgICAgfSxcclxuXHQvLyAgICAgICAgIGludmFsaWQ6IHtcclxuXHQvLyAgICAgICAgICAgICBjb2xvcjogXCIjZmE3NTVhXCIsXHJcblx0Ly8gICAgICAgICAgICAgaWNvbkNvbG9yOiBcIiNmYTc1NWFcIlxyXG5cdC8vICAgICAgICAgfSxcclxuXHQvLyAgICAgfTtcclxuXHJcblx0Ly8gICAgIHZhciBjYXJkRWxlbWVudCA9IGVsZW1lbnRzLmNyZWF0ZSgnY2FyZCcsIHtcclxuXHQvLyAgICAgICAgIHN0eWxlOiBzdHlsZVxyXG5cdC8vICAgICB9KTtcclxuXHQvLyAgICAgY2FyZEVsZW1lbnQubW91bnQoJyNjYXJkLWVsZW1lbnQnKTtcclxuXHQvLyAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlcEZpdmVGb3JtJyk7XHJcblxyXG5cdC8vICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGFzeW5jIChldmVudCkgPT4ge1xyXG5cdC8vICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byBsZXQgZGVmYXVsdCBmb3JtIHN1Ym1pc3Npb24gaGFwcGVuIGhlcmUsXHJcblx0Ly8gICAgICAgICAvLyB3aGljaCB3b3VsZCByZWZyZXNoIHRoZSBwYWdlLlxyXG5cclxuXHQvLyAgICAgICAgIGJpbGxpbmdfY291bnRyeSA9ICQoJyNDb3VudHJ5JykuZmluZChcIm9wdGlvbjpzZWxlY3RlZFwiKS5kYXRhKCdjb3VudHJ5LWNvZGUnKTtcclxuXHQvLyAgICAgICAgIGJpbGxpbmdfc3RhdGUgPSAkKCcjU3RhdGUnKS5maW5kKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpO1xyXG5cclxuIC8vICAgICAgICAgICAgJChcImZvcm1baWQ9J3N0ZXBGaXZlRm9ybSddXCIpLnZhbGlkYXRlKHtcclxuXHQvLyBcdCAgICBcdGVycm9yRWxlbWVudDogXCJzcGFuXCIsXHJcblx0Ly8gXHQgICAgICAgIHJ1bGVzOiB7XHJcblx0Ly8gXHQgICAgICAgICAgICBjYXJkX2hvbGRlcl9uYW1lOiB7XHJcblx0Ly8gXHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0Ly8gXHQgICAgICAgICAgICB9LFxyXG5cdC8vIFx0ICAgICAgICAgICAgYmlsbGluZ19lbWFpbDoge1xyXG5cdC8vIFx0ICAgICAgICAgICAgXHRyZXF1aXJlZDogdHJ1ZVxyXG5cdC8vIFx0ICAgICAgICAgICAgfSxcclxuXHQvLyBcdCAgICAgICAgICAgIGJpbGxpbmdfcGhvbmU6IHtcclxuXHQvLyBcdCAgICAgICAgICAgIFx0cmVxdWlyZWQ6IHRydWVcclxuXHQvLyBcdCAgICAgICAgICAgIH0sXHJcblx0Ly8gXHQgICAgICAgICAgICBiaWxsaW5nX2NvdW50cnk6IHtcclxuXHQvLyBcdCAgICAgICAgICAgIFx0cmVxdWlyZWQ6IHRydWVcclxuXHQvLyBcdCAgICAgICAgICAgIH0sXHJcblx0Ly8gXHQgICAgICAgICAgICBiaWxsaW5nX3N0YXRlOiB7XHJcblx0Ly8gXHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0Ly8gXHQgICAgICAgICAgICB9LFxyXG5cdC8vIFx0ICAgICAgICAgICAgYmlsbGluZ19jaXR5OiB7XHJcblx0Ly8gXHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0Ly8gXHQgICAgICAgICAgICB9LFxyXG5cdC8vIFx0ICAgICAgICAgICAgYmlsbGluZ19hZGRyZXNzOiB7XHJcblx0Ly8gXHQgICAgICAgICAgICBcdHJlcXVpcmVkOiB0cnVlXHJcblx0Ly8gXHQgICAgICAgICAgICB9LFxyXG5cdC8vIFx0ICAgICAgICB9LFxyXG5cdC8vIFx0ICAgICAgICBlcnJvclBsYWNlbWVudDogZnVuY3Rpb24oZXJyb3IsIGVsZW1lbnQpIHtcclxuXHQvLyBcdFx0XHQgIFx0aWYoZWxlbWVudC5hdHRyKFwibmFtZVwiKSA9PSBcInN0YXRlXCIpIHtcclxuXHQvLyBcdFx0XHQgICAgXHRlcnJvci5hcHBlbmRUbygnLnN0YXRlLWVycm9yJyk7XHJcblx0Ly8gXHRcdFx0ICBcdH0gZWxzZSB7XHJcblx0Ly8gXHRcdFx0ICAgIFx0ZXJyb3IuaW5zZXJ0QWZ0ZXIoZWxlbWVudCk7XHJcblx0Ly8gXHRcdFx0ICBcdH1cclxuXHQvLyBcdFx0ICAgIH1cclxuXHQvLyBcdCAgICB9KTtcclxuXHJcblx0Ly8gICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHQvLyAgICAgICAgIGlmICgkKCcucGF5LXNwaW5uZXInKS5oYXNDbGFzcyhcImQtbm9uZVwiKSkge1xyXG4gLy8gICAgICAgICAgICAgICAgJCgnLnBheS1zcGlubmVyJykucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcbiAvLyAgICAgICAgICAgIH1cclxuIC8vICAgICAgICAgICAgaWYgKCEkKCcucGxhbi1zdWJtaXQnKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpKSB7XHJcbiAvLyAgICAgICAgICAgICAgICAkKCcucGxhbi1zdWJtaXQnKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpO1xyXG4gLy8gICAgICAgICAgICB9XHJcblxyXG5cdC8vICAgICAgICAgY29uc3QgeyBzZXR1cEludGVudCwgZXJyb3IgfSA9IGF3YWl0IHN0cmlwZS5jb25maXJtQ2FyZFNldHVwKFxyXG5cdC8vICAgICAgICAgICAgIGNsaWVudFNlY3JldCwge1xyXG5cdC8vICAgICAgICAgICAgICAgICBwYXltZW50X21ldGhvZDoge1xyXG5cdC8vICAgICAgICAgICAgICAgICAgICAgY2FyZDogY2FyZEVsZW1lbnQsXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICBiaWxsaW5nX2RldGFpbHM6IHsgXHJcblx0Ly8gICAgICAgICAgICAgICAgICAgICBcdG5hbWU6IGNhcmRIb2xkZXJOYW1lLnZhbHVlLFxyXG5cdC8vIFx0XHQgICAgICAgICAgICAgICAgZW1haWw6IGJpbGxpbmdfZW1haWwudmFsdWUsXHJcblx0Ly8gXHRcdCAgICAgICAgICAgIFx0cGhvbmU6IGJpbGxpbmdfcGhvbmUudmFsdWUsXHJcblx0Ly8gXHRcdCAgICAgICAgICAgIFx0YWRkcmVzczoge1xyXG5cdC8vIFx0XHRcdFx0ICAgICAgICAgXHRjaXR5OiBiaWxsaW5nX2NpdHkudmFsdWUsXHJcblx0Ly8gXHRcdFx0XHQgICAgICAgICAgXHRjb3VudHJ5OiBiaWxsaW5nX2NvdW50cnksXHJcblx0Ly8gXHRcdFx0XHQgICAgICAgICAgXHRsaW5lMTogYmlsbGluZ19hZGRyZXNzLnZhbHVlLFxyXG5cdC8vIFx0XHRcdFx0ICAgICAgICAgIFx0c3RhdGU6IGJpbGxpbmdfc3RhdGVcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgfSxcclxuXHQvLyAgICAgICAgICAgICAgICAgICAgIH1cclxuXHQvLyAgICAgICAgICAgICAgICAgfVxyXG5cdC8vICAgICAgICAgICAgIH1cclxuXHQvLyAgICAgICAgICk7XHJcblxyXG5cdC8vICAgICAgICAgaWYgKGVycm9yKSB7XHJcblx0Ly8gICAgICAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3IubWVzc2FnZTtcclxuXHQvLyAgICAgICAgIH0gZWxzZSB7XHJcblx0Ly8gICAgICAgICBcdGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG5cdC8vICAgICAgICAgXHRpZihzZXR1cEludGVudC5wYXltZW50X21ldGhvZCkge1xyXG5cdC8vICAgICAgICAgXHRcdCQuYWpheCh7XHJcblx0Ly8gXHRcdFx0XHRcdHVybDogdXJsLFxyXG5cdC8vIFx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcclxuXHQvLyBcdFx0XHRcdFx0ZGF0YToge1xyXG5cdC8vIFx0XHRcdFx0XHRcdHBheW1lbnRfbWV0aG9kX2lkOiBzZXR1cEludGVudC5wYXltZW50X21ldGhvZCxcclxuXHQvLyBcdFx0XHRcdFx0XHRhdXRvX3JlbmV3YWw6IGF1dG9fcmVuZXdhbCxcclxuXHQvLyBcdFx0XHRcdFx0fSxcclxuXHQvLyBcdFx0XHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKSB7XHJcblx0Ly8gXHQgICAgICAgICAgICAgICAgICAgIGlmICgkKCcucGF5LXNwaW5uZXInKS5oYXNDbGFzcyhcImQtbm9uZVwiKSkge1xyXG5cdC8vIFx0ICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBheS1zcGlubmVyJykucmVtb3ZlQ2xhc3MoXCJkLW5vbmVcIik7XHJcblx0Ly8gXHQgICAgICAgICAgICAgICAgICAgIH1cclxuXHQvLyBcdCAgICAgICAgICAgICAgICAgICAgaWYgKCEkKCcucGxhbi1zdWJtaXQnKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpKSB7XHJcblx0Ly8gXHQgICAgICAgICAgICAgICAgICAgICAgICAkKCcucGxhbi1zdWJtaXQnKS5hZGRDbGFzcyhcImRpc2FibGVkXCIpO1xyXG5cdC8vIFx0ICAgICAgICAgICAgICAgICAgICB9XHJcblx0Ly8gXHQgICAgICAgICAgICAgICAgfSxcclxuXHQvLyBcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLnJlcXVpcmVzX2FjdGlvbikge1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0c3RyaXBlLmNvbmZpcm1DYXJkUGF5bWVudChyZXNwb25zZS5wYXltZW50X2ludGVudF9jbGllbnRfc2VjcmV0LCB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHQgICAgcGF5bWVudF9tZXRob2Q6IHJlc3BvbnNlLnBheW1lbnRfaW50ZW50X3BheW1lbnRfbWV0aG9kLFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0fSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHQgIFx0aWYgKHJlc3VsdC5lcnJvcikge1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHQgICAgXHRsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0ICBcdH0gZWxzZSB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdCAgXHRcdGlmKHJlc3VsdC5wYXltZW50SW50ZW50LnN0YXR1cyA9PSAnc3VjY2VlZGVkJykge1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHQgIFx0XHRcdCQuYWpheCh7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dXJsOiBiYXNlX3VybCArICcvY29uZmlybS1wYXltZW50JyxcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhOiB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXltZW50X2ludGVudF9pZDogcmVzdWx0LnBheW1lbnRJbnRlbnQucGF5bWVudF9tZXRob2QsIFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGF5bWVudF9tZXRob2RfaWQ6IHJlc3VsdC5wYXltZW50SW50ZW50LmlkLFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHJlc3BvbnNlLmN1c3RvbWVyX2lkLFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZW1haWw6IGJpbGxpbmdfZW1haWwudmFsdWUsXHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvcmRlcl90b3RhbDogcmVzcG9uc2Uub3JkZXJfdG90YWwsXHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhdXRvX3JlbmV3YWw6IGF1dG9fcmVuZXdhbFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAocmVzcG9uc2Uuc3VjY2Vzcykge1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGJhc2VfdXJsICsgJy9wYXltZW50LXN1Y2Nlc3MnO1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdCAgXHRcdH1cclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0ICBcdH1cclxuXHQvLyBcdFx0XHRcdFx0XHRcdH0pO1xyXG5cdC8vIFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAocmVzcG9uc2UuZXJyb3IpIHtcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdC8vIFx0XHRcdFx0ICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgXHQkLmFqYXgoe1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHR1cmw6IGJhc2VfdXJsICsgJy9jb25maXJtLXBheW1lbnQnLFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcIlBPU1RcIixcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0ZGF0YToge1xyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdHBheW1lbnRfaW50ZW50X2lkOiByZXNwb25zZS5wYXltZW50X2ludGVudF9pZCwgXHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0cGF5bWVudF9tZXRob2RfaWQ6IHJlc3BvbnNlLnBheW1lbnRfbWV0aG9kX2lkLFxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHRcdGN1c3RvbWVyX2lkOiByZXNwb25zZS5jdXN0b21lcl9pZCxcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRlbWFpbDogYmlsbGluZ19lbWFpbC52YWx1ZSxcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRvcmRlcl90b3RhbDogcmVzcG9uc2Uub3JkZXJfdG90YWwsXHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0YXV0b19yZW5ld2FsOiBhdXRvX3JlbmV3YWxcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuXHQvLyBcdFx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYmFzZV91cmwgKyAnL3BheW1lbnQtc3VjY2Vzcyc7XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdC8vIFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0Ly8gXHRcdFx0XHRcdFx0XHR9KTtcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgfSBlbHNlIHtcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgXHRsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHQvLyBcdFx0XHRcdCAgICAgICAgfVxyXG5cdC8vIFx0XHRcdFx0XHR9LFxyXG5cdC8vIFx0XHRcdFx0XHRlcnJvcjogZnVuY3Rpb24gKHJlamVjdCkge1xyXG5cdC8vIFx0XHRcdFx0XHRcdGxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdC8vIFx0XHRcdFx0XHR9XHJcblx0Ly8gXHRcdFx0XHR9KTtcclxuXHQvLyAgICAgICAgIFx0fVxyXG5cclxuXHQvLyAgICAgICAgIH1cclxuXHJcblx0Ly8gICAgIH0pO1xyXG5cdC8vIH1cclxuXHJcbn0pO1xyXG4iXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCJsZW5ndGgiLCJhamF4U2V0dXAiLCJoZWFkZXJzIiwiYXR0ciIsImF1dG9fcmVuZXdhbCIsIm9uIiwiZSIsImlzIiwidXJsIiwiYmFzZV91cmwiLCJlcnJvckVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0cmlwZV9rZXkiLCJkYXRhIiwiY2xpZW50U2VjcmV0IiwiY2FyZEhvbGRlck5hbWUiLCJiaWxsaW5nX2VtYWlsIiwiYmlsbGluZ19waG9uZSIsImJpbGxpbmdfYWRkcmVzcyIsImJpbGxpbmdfY2l0eSIsImJpbGxpbmdfY291bnRyeSIsImJpbGxpbmdfc3RhdGUiLCJzdHJpcGUiLCJTdHJpcGUiLCJlbGVtZW50cyIsInN0eWxlIiwiYmFzZSIsImNvbG9yIiwiZm9udEZhbWlseSIsImZvbnRTbW9vdGhpbmciLCJmb250U2l6ZSIsImludmFsaWQiLCJpY29uQ29sb3IiLCJjYXJkRWxlbWVudCIsImNyZWF0ZSIsIm1vdW50IiwiZm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImZpbmQiLCJ2YWwiLCJ2YWxpZGF0ZSIsInJ1bGVzIiwiY2FyZF9ob2xkZXJfbmFtZSIsInJlcXVpcmVkIiwiZXJyb3JQbGFjZW1lbnQiLCJlcnJvciIsImVsZW1lbnQiLCJhcHBlbmRUbyIsImluc2VydEFmdGVyIiwicHJldmVudERlZmF1bHQiLCJjb25maXJtQ2FyZFNldHVwIiwicGF5bWVudF9tZXRob2QiLCJjYXJkIiwiYmlsbGluZ19kZXRhaWxzIiwibmFtZSIsInZhbHVlIiwiZW1haWwiLCJwaG9uZSIsImFkZHJlc3MiLCJjaXR5IiwiY291bnRyeSIsImxpbmUxIiwic3RhdGUiLCJzZXR1cEludGVudCIsInRleHRDb250ZW50IiwibWVzc2FnZSIsImFqYXgiLCJ0eXBlIiwicGF5bWVudF9tZXRob2RfaWQiLCJiZWZvcmVTZW5kIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwic3VjY2VzcyIsInJlc3BvbnNlIiwicmVxdWlyZXNfYWN0aW9uIiwiY29uZmlybUNhcmRQYXltZW50IiwicGF5bWVudF9pbnRlbnRfY2xpZW50X3NlY3JldCIsInBheW1lbnRfaW50ZW50X3BheW1lbnRfbWV0aG9kIiwidGhlbiIsInJlc3VsdCIsImxvY2F0aW9uIiwicmVsb2FkIiwicGF5bWVudEludGVudCIsInN0YXR1cyIsInBheW1lbnRfaW50ZW50X2lkIiwiaWQiLCJjdXN0b21lcl9pZCIsIm9yZGVyX3RvdGFsIiwid2luZG93IiwiaHJlZiIsInJlamVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/app-scripts/payment.js\n");

/***/ }),

/***/ "./node_modules/regenerator-runtime/runtime.js":
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : 0\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLE1BQU07QUFDTixlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QyxXQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsbUJBQW1CO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0JBQWdCO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUEsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxLQUEwQixvQkFBb0IsQ0FBRTtBQUNsRDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzP2M1NmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgcnVudGltZSA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgT3AgPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7XG4gIHZhciB1bmRlZmluZWQ7IC8vIE1vcmUgY29tcHJlc3NpYmxlIHRoYW4gdm9pZCAwLlxuICB2YXIgJFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbCA6IHt9O1xuICB2YXIgaXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuICB2YXIgYXN5bmNJdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCBcIkBAYXN5bmNJdGVyYXRvclwiO1xuICB2YXIgdG9TdHJpbmdUYWdTeW1ib2wgPSAkU3ltYm9sLnRvU3RyaW5nVGFnIHx8IFwiQEB0b1N0cmluZ1RhZ1wiO1xuXG4gIGZ1bmN0aW9uIGRlZmluZShvYmosIGtleSwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfVxuICB0cnkge1xuICAgIC8vIElFIDggaGFzIGEgYnJva2VuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0aGF0IG9ubHkgd29ya3Mgb24gRE9NIG9iamVjdHMuXG4gICAgZGVmaW5lKHt9LCBcIlwiKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZGVmaW5lID0gZnVuY3Rpb24ob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgICByZXR1cm4gb2JqW2tleV0gPSB2YWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgZGVmaW5lKEl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICBkZWZpbmUoR3AsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICBkZWZpbmUoR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUsIFwiY29uc3RydWN0b3JcIiwgR2VuZXJhdG9yRnVuY3Rpb24pO1xuICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IGRlZmluZShcbiAgICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSxcbiAgICB0b1N0cmluZ1RhZ1N5bWJvbCxcbiAgICBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgKTtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBkZWZpbmUocHJvdG90eXBlLCBtZXRob2QsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgdmFyIGN0b3IgPSB0eXBlb2YgZ2VuRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yO1xuICAgIHJldHVybiBjdG9yXG4gICAgICA/IGN0b3IgPT09IEdlbmVyYXRvckZ1bmN0aW9uIHx8XG4gICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW5cbiAgICAgICAgLy8gZG8gaXMgdG8gY2hlY2sgaXRzIC5uYW1lIHByb3BlcnR5LlxuICAgICAgICAoY3Rvci5kaXNwbGF5TmFtZSB8fCBjdG9yLm5hbWUpID09PSBcIkdlbmVyYXRvckZ1bmN0aW9uXCJcbiAgICAgIDogZmFsc2U7XG4gIH07XG5cbiAgZXhwb3J0cy5tYXJrID0gZnVuY3Rpb24oZ2VuRnVuKSB7XG4gICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGdlbkZ1biwgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gICAgICBkZWZpbmUoZ2VuRnVuLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JGdW5jdGlvblwiKTtcbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yLCBQcm9taXNlSW1wbCkge1xuICAgIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goZ2VuZXJhdG9yW21ldGhvZF0sIGdlbmVyYXRvciwgYXJnKTtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWNvcmQuYXJnO1xuICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaW52b2tlKFwibmV4dFwiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgIGludm9rZShcInRocm93XCIsIGVyciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlSW1wbC5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlSW1wbChmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG4gIGRlZmluZShBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSwgYXN5bmNJdGVyYXRvclN5bWJvbCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9KTtcbiAgZXhwb3J0cy5Bc3luY0l0ZXJhdG9yID0gQXN5bmNJdGVyYXRvcjtcblxuICAvLyBOb3RlIHRoYXQgc2ltcGxlIGFzeW5jIGZ1bmN0aW9ucyBhcmUgaW1wbGVtZW50ZWQgb24gdG9wIG9mXG4gIC8vIEFzeW5jSXRlcmF0b3Igb2JqZWN0czsgdGhleSBqdXN0IHJldHVybiBhIFByb21pc2UgZm9yIHRoZSB2YWx1ZSBvZlxuICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci5cbiAgZXhwb3J0cy5hc3luYyA9IGZ1bmN0aW9uKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0LCBQcm9taXNlSW1wbCkge1xuICAgIGlmIChQcm9taXNlSW1wbCA9PT0gdm9pZCAwKSBQcm9taXNlSW1wbCA9IFByb21pc2U7XG5cbiAgICB2YXIgaXRlciA9IG5ldyBBc3luY0l0ZXJhdG9yKFxuICAgICAgd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCksXG4gICAgICBQcm9taXNlSW1wbFxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgZGVmaW5lKEdwLCB0b1N0cmluZ1RhZ1N5bWJvbCwgXCJHZW5lcmF0b3JcIik7XG5cbiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGVcbiAgLy8gQEBpdGVyYXRvciBmdW5jdGlvbiBpcyBjYWxsZWQgb24gaXQuIFNvbWUgYnJvd3NlcnMnIGltcGxlbWVudGF0aW9ucyBvZiB0aGVcbiAgLy8gaXRlcmF0b3IgcHJvdG90eXBlIGNoYWluIGluY29ycmVjdGx5IGltcGxlbWVudCB0aGlzLCBjYXVzaW5nIHRoZSBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uXG4gIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvaXNzdWVzLzI3NCBmb3IgbW9yZSBkZXRhaWxzLlxuICBkZWZpbmUoR3AsIGl0ZXJhdG9yU3ltYm9sLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSk7XG5cbiAgZGVmaW5lKEdwLCBcInRvU3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgR2VuZXJhdG9yXVwiO1xuICB9KTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCBpbiBtb2Rlcm4gZW5naW5lc1xuICAvLyB3ZSBjYW4gZXhwbGljaXRseSBhY2Nlc3MgZ2xvYmFsVGhpcy4gSW4gb2xkZXIgZW5naW5lcyB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBnbG9iYWxUaGlzLnJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG4gIH0gZWxzZSB7XG4gICAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/regenerator-runtime/runtime.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./resources/js/app-scripts/payment.js");
/******/ 	
/******/ })()
;